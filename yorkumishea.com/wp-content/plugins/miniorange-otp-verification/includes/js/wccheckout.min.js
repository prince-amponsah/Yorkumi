jQuery(document).ready(function(){"undefined"==typeof $mo&&($mo=jQuery);var e=mowccheckout.paymentMethods,o=mowccheckout.popupEnabled&&!mowccheckout.isLoggedIn;$mo("#order_verify_field").hide(),jQuery(".otp-catchy-box").length>0&&jQuery(".digit-group input.otp-catchy").each(function(){jQuery(this).attr("maxlength","1")}).on("keyup",function(e){if(jQuery(this).parent(),8===e.keyCode||37===e.keyCode){var o=jQuery(this).data("previous");o&&jQuery("#"+o).select()}else{var i=jQuery(this).data("next");i&&jQuery("#"+i).select()}});var i=document.getElementById("mo_sec_otp_submit_button");function t(e){var o=$mo("input[name=billing_email]").val(),i=$mo("#billing_phone").val();jQuery("#mo_message_wc_pop_up").empty().append("<div class='moloader'></div>").show(),$mo.ajax({url:mowccheckout.siteURL,type:"POST",data:{user_email:o,user_phone:i,otpType:mowccheckout.otpType,otp_token:e},crossDomain:!0,dataType:"json",success:function(e){jQuery("#mo_message_wc_pop_up").text(e.message),"success"==e.result&&($mo("#popup_wc_mo").hide(),$mo('form[name="checkout"]').submit())},error:function(e,o,i){}})}i&&(i.onclick=function(){if(jQuery(".otp-catchy-box").length>0)for(var e="",o=1;o<=parseInt(mowccheckout.otp_length_mo);o++)e+=document.querySelector("#digit-"+o).value;else e=$mo("#mo_otp_token").val();jQuery("#mo_otp_token").attr("value",e),t(e)}),$mo(".woocommerce-checkout-review-order").click(function(){a()}),$mo("#miniorange_otp_validate_submit").click(function(){t($mo("#mo_otp_token").val())});var n=function(){$mo(".woocommerce-billing-fields").length>0&&0===$mo("#mo-time-remain").length&&($mo("#miniorange_wc_popup_send_otp_token").show(),$mo("#miniorange_otp_token_submit").show(),$mo("#miniorange_otp_token_submit").css({"margin-right":"0"}),$mo("#mo_validation_wrapper").insertAfter("#billing_"+mowccheckout.otpType+"_field"),$mo("#order_verify_field").length>0?$mo("#order_verify_field").show():o&&$mo("#place_order").hide())},r=function(){$mo(".woocommerce-billing-fields").length>0&&($mo("#miniorange_otp_token_submit").hide(),$mo("#order_verify_field").length>0?($mo("#order_verify_field").hide(),$mo("#mo_message").hide(),$mo("#order_verify").val("")):$mo("#place_order").show())},a=function(){$mo("#miniorange_wc_popup_send_otp_token, #miniorange_otp_token_submit, #order_verify_field, #mo_message").hide(),$mo("#place_order").show();var o=!mowccheckout.selectivePaymentEnabled;mowccheckout.popupEnabled?mowccheckout.popupEnabled&&$mo("#miniorange_otp_token_submit").click(function(e){0==$mo("#mo_message").length&&$mo('<div id="mo_message"></div>').insertBefore("#mo_validate_field")}):$mo("#miniorange_otp_token_submit").click(function(e){0==$mo("#mo_message").length&&$mo('<div id="mo_message"></div>').insertBefore("#order_verify_field")}),$mo("input[name=payment_method]").each(function(){var i=$mo(this).val();if(o=!1,$mo(this).is(":checked")&&e.hasOwnProperty(i)||!mowccheckout.selectivePaymentEnabled)return o=!0,!1}),o?n():r()};setTimeout(function(){a()},200),$mo(document).ajaxComplete(function(e,o,i){i.url.includes("wc-ajax=update_order_review")&&a()})});